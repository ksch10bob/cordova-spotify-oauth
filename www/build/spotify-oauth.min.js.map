{"version":3,"file":"spotify-oauth.min.js","mappings":"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","sources":["webpack://spotifyAuth/./node_modules/async/asyncify.js","webpack://spotifyAuth/./node_modules/async/internal/DoublyLinkedList.js","webpack://spotifyAuth/./node_modules/async/internal/initialParams.js","webpack://spotifyAuth/./node_modules/async/internal/onlyOnce.js","webpack://spotifyAuth/./node_modules/async/internal/queue.js","webpack://spotifyAuth/./node_modules/async/internal/setImmediate.js","webpack://spotifyAuth/./node_modules/async/internal/slice.js","webpack://spotifyAuth/./node_modules/async/internal/wrapAsync.js","webpack://spotifyAuth/./node_modules/async/queue.js","webpack://spotifyAuth/./node_modules/lodash/_baseFindIndex.js","webpack://spotifyAuth/./node_modules/lodash/_baseIndexOf.js","webpack://spotifyAuth/./node_modules/lodash/_baseIsNaN.js","webpack://spotifyAuth/./node_modules/lodash/_strictIndexOf.js","webpack://spotifyAuth/./node_modules/lodash/isArray.js","webpack://spotifyAuth/./node_modules/lodash/isObject.js","webpack://spotifyAuth/./node_modules/lodash/noop.js","webpack://spotifyAuth/webpack/bootstrap","webpack://spotifyAuth/webpack/runtime/compat get default export","webpack://spotifyAuth/webpack/runtime/define property getters","webpack://spotifyAuth/webpack/runtime/hasOwnProperty shorthand","webpack://spotifyAuth/webpack/runtime/make namespace object","webpack://spotifyAuth/./node_modules/whatwg-fetch/fetch.js","webpack://spotifyAuth/./lib/exec-promise.ts","webpack://spotifyAuth/./spotify-oauth.ts"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = asyncify;\n\nvar _isObject = require('lodash/isObject');\n\nvar _isObject2 = _interopRequireDefault(_isObject);\n\nvar _initialParams = require('./internal/initialParams');\n\nvar _initialParams2 = _interopRequireDefault(_initialParams);\n\nvar _setImmediate = require('./internal/setImmediate');\n\nvar _setImmediate2 = _interopRequireDefault(_setImmediate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Take a sync function and make it async, passing its return value to a\n * callback. This is useful for plugging sync functions into a waterfall,\n * series, or other async functions. Any arguments passed to the generated\n * function will be passed to the wrapped function (except for the final\n * callback argument). Errors thrown will be passed to the callback.\n *\n * If the function passed to `asyncify` returns a Promise, that promises's\n * resolved/rejected state will be used to call the callback, rather than simply\n * the synchronous return value.\n *\n * This also means you can asyncify ES2017 `async` functions.\n *\n * @name asyncify\n * @static\n * @memberOf module:Utils\n * @method\n * @alias wrapSync\n * @category Util\n * @param {Function} func - The synchronous function, or Promise-returning\n * function to convert to an {@link AsyncFunction}.\n * @returns {AsyncFunction} An asynchronous wrapper of the `func`. To be\n * invoked with `(args..., callback)`.\n * @example\n *\n * // passing a regular synchronous function\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(JSON.parse),\n *     function (data, next) {\n *         // data is the result of parsing the text.\n *         // If there was a parsing error, it would have been caught.\n *     }\n * ], callback);\n *\n * // passing a function returning a promise\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(function (contents) {\n *         return db.model.create(contents);\n *     }),\n *     function (model, next) {\n *         // `model` is the instantiated model object.\n *         // If there was an error, this function would be skipped.\n *     }\n * ], callback);\n *\n * // es2017 example, though `asyncify` is not needed if your JS environment\n * // supports async functions out of the box\n * var q = async.queue(async.asyncify(async function(file) {\n *     var intermediateStep = await processFile(file);\n *     return await somePromise(intermediateStep)\n * }));\n *\n * q.push(files);\n */\nfunction asyncify(func) {\n    return (0, _initialParams2.default)(function (args, callback) {\n        var result;\n        try {\n            result = func.apply(this, args);\n        } catch (e) {\n            return callback(e);\n        }\n        // if result is Promise object\n        if ((0, _isObject2.default)(result) && typeof result.then === 'function') {\n            result.then(function (value) {\n                invokeCallback(callback, null, value);\n            }, function (err) {\n                invokeCallback(callback, err.message ? err : new Error(err));\n            });\n        } else {\n            callback(null, result);\n        }\n    });\n}\n\nfunction invokeCallback(callback, error, value) {\n    try {\n        callback(error, value);\n    } catch (e) {\n        (0, _setImmediate2.default)(rethrow, e);\n    }\n}\n\nfunction rethrow(error) {\n    throw error;\n}\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = DLL;\n// Simple doubly linked list (https://en.wikipedia.org/wiki/Doubly_linked_list) implementation\n// used for queues. This implementation assumes that the node provided by the user can be modified\n// to adjust the next and last properties. We implement only the minimal functionality\n// for queue support.\nfunction DLL() {\n    this.head = this.tail = null;\n    this.length = 0;\n}\n\nfunction setInitial(dll, node) {\n    dll.length = 1;\n    dll.head = dll.tail = node;\n}\n\nDLL.prototype.removeLink = function (node) {\n    if (node.prev) node.prev.next = node.next;else this.head = node.next;\n    if (node.next) node.next.prev = node.prev;else this.tail = node.prev;\n\n    node.prev = node.next = null;\n    this.length -= 1;\n    return node;\n};\n\nDLL.prototype.empty = function () {\n    while (this.head) this.shift();\n    return this;\n};\n\nDLL.prototype.insertAfter = function (node, newNode) {\n    newNode.prev = node;\n    newNode.next = node.next;\n    if (node.next) node.next.prev = newNode;else this.tail = newNode;\n    node.next = newNode;\n    this.length += 1;\n};\n\nDLL.prototype.insertBefore = function (node, newNode) {\n    newNode.prev = node.prev;\n    newNode.next = node;\n    if (node.prev) node.prev.next = newNode;else this.head = newNode;\n    node.prev = newNode;\n    this.length += 1;\n};\n\nDLL.prototype.unshift = function (node) {\n    if (this.head) this.insertBefore(this.head, node);else setInitial(this, node);\n};\n\nDLL.prototype.push = function (node) {\n    if (this.tail) this.insertAfter(this.tail, node);else setInitial(this, node);\n};\n\nDLL.prototype.shift = function () {\n    return this.head && this.removeLink(this.head);\n};\n\nDLL.prototype.pop = function () {\n    return this.tail && this.removeLink(this.tail);\n};\n\nDLL.prototype.toArray = function () {\n    var arr = Array(this.length);\n    var curr = this.head;\n    for (var idx = 0; idx < this.length; idx++) {\n        arr[idx] = curr.data;\n        curr = curr.next;\n    }\n    return arr;\n};\n\nDLL.prototype.remove = function (testFn) {\n    var curr = this.head;\n    while (!!curr) {\n        var next = curr.next;\n        if (testFn(curr)) {\n            this.removeLink(curr);\n        }\n        curr = next;\n    }\n    return this;\n};\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (fn) {\n    return function () /*...args, callback*/{\n        var args = (0, _slice2.default)(arguments);\n        var callback = args.pop();\n        fn.call(this, args, callback);\n    };\n};\n\nvar _slice = require('./slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = onlyOnce;\nfunction onlyOnce(fn) {\n    return function () {\n        if (fn === null) throw new Error(\"Callback was already called.\");\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = queue;\n\nvar _baseIndexOf = require('lodash/_baseIndexOf');\n\nvar _baseIndexOf2 = _interopRequireDefault(_baseIndexOf);\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _onlyOnce = require('./onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _setImmediate = require('./setImmediate');\n\nvar _setImmediate2 = _interopRequireDefault(_setImmediate);\n\nvar _DoublyLinkedList = require('./DoublyLinkedList');\n\nvar _DoublyLinkedList2 = _interopRequireDefault(_DoublyLinkedList);\n\nvar _wrapAsync = require('./wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction queue(worker, concurrency, payload) {\n    if (concurrency == null) {\n        concurrency = 1;\n    } else if (concurrency === 0) {\n        throw new Error('Concurrency must not be zero');\n    }\n\n    var _worker = (0, _wrapAsync2.default)(worker);\n    var numRunning = 0;\n    var workersList = [];\n\n    var processingScheduled = false;\n    function _insert(data, insertAtFront, callback) {\n        if (callback != null && typeof callback !== 'function') {\n            throw new Error('task callback must be a function');\n        }\n        q.started = true;\n        if (!(0, _isArray2.default)(data)) {\n            data = [data];\n        }\n        if (data.length === 0 && q.idle()) {\n            // call drain immediately if there are no tasks\n            return (0, _setImmediate2.default)(function () {\n                q.drain();\n            });\n        }\n\n        for (var i = 0, l = data.length; i < l; i++) {\n            var item = {\n                data: data[i],\n                callback: callback || _noop2.default\n            };\n\n            if (insertAtFront) {\n                q._tasks.unshift(item);\n            } else {\n                q._tasks.push(item);\n            }\n        }\n\n        if (!processingScheduled) {\n            processingScheduled = true;\n            (0, _setImmediate2.default)(function () {\n                processingScheduled = false;\n                q.process();\n            });\n        }\n    }\n\n    function _next(tasks) {\n        return function (err) {\n            numRunning -= 1;\n\n            for (var i = 0, l = tasks.length; i < l; i++) {\n                var task = tasks[i];\n\n                var index = (0, _baseIndexOf2.default)(workersList, task, 0);\n                if (index === 0) {\n                    workersList.shift();\n                } else if (index > 0) {\n                    workersList.splice(index, 1);\n                }\n\n                task.callback.apply(task, arguments);\n\n                if (err != null) {\n                    q.error(err, task.data);\n                }\n            }\n\n            if (numRunning <= q.concurrency - q.buffer) {\n                q.unsaturated();\n            }\n\n            if (q.idle()) {\n                q.drain();\n            }\n            q.process();\n        };\n    }\n\n    var isProcessing = false;\n    var q = {\n        _tasks: new _DoublyLinkedList2.default(),\n        concurrency: concurrency,\n        payload: payload,\n        saturated: _noop2.default,\n        unsaturated: _noop2.default,\n        buffer: concurrency / 4,\n        empty: _noop2.default,\n        drain: _noop2.default,\n        error: _noop2.default,\n        started: false,\n        paused: false,\n        push: function (data, callback) {\n            _insert(data, false, callback);\n        },\n        kill: function () {\n            q.drain = _noop2.default;\n            q._tasks.empty();\n        },\n        unshift: function (data, callback) {\n            _insert(data, true, callback);\n        },\n        remove: function (testFn) {\n            q._tasks.remove(testFn);\n        },\n        process: function () {\n            // Avoid trying to start too many processing operations. This can occur\n            // when callbacks resolve synchronously (#1267).\n            if (isProcessing) {\n                return;\n            }\n            isProcessing = true;\n            while (!q.paused && numRunning < q.concurrency && q._tasks.length) {\n                var tasks = [],\n                    data = [];\n                var l = q._tasks.length;\n                if (q.payload) l = Math.min(l, q.payload);\n                for (var i = 0; i < l; i++) {\n                    var node = q._tasks.shift();\n                    tasks.push(node);\n                    workersList.push(node);\n                    data.push(node.data);\n                }\n\n                numRunning += 1;\n\n                if (q._tasks.length === 0) {\n                    q.empty();\n                }\n\n                if (numRunning === q.concurrency) {\n                    q.saturated();\n                }\n\n                var cb = (0, _onlyOnce2.default)(_next(tasks));\n                _worker(data, cb);\n            }\n            isProcessing = false;\n        },\n        length: function () {\n            return q._tasks.length;\n        },\n        running: function () {\n            return numRunning;\n        },\n        workersList: function () {\n            return workersList;\n        },\n        idle: function () {\n            return q._tasks.length + numRunning === 0;\n        },\n        pause: function () {\n            q.paused = true;\n        },\n        resume: function () {\n            if (q.paused === false) {\n                return;\n            }\n            q.paused = false;\n            (0, _setImmediate2.default)(q.process);\n        }\n    };\n    return q;\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.hasNextTick = exports.hasSetImmediate = undefined;\nexports.fallback = fallback;\nexports.wrap = wrap;\n\nvar _slice = require('./slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hasSetImmediate = exports.hasSetImmediate = typeof setImmediate === 'function' && setImmediate;\nvar hasNextTick = exports.hasNextTick = typeof process === 'object' && typeof process.nextTick === 'function';\n\nfunction fallback(fn) {\n    setTimeout(fn, 0);\n}\n\nfunction wrap(defer) {\n    return function (fn /*, ...args*/) {\n        var args = (0, _slice2.default)(arguments, 1);\n        defer(function () {\n            fn.apply(null, args);\n        });\n    };\n}\n\nvar _defer;\n\nif (hasSetImmediate) {\n    _defer = setImmediate;\n} else if (hasNextTick) {\n    _defer = process.nextTick;\n} else {\n    _defer = fallback;\n}\n\nexports.default = wrap(_defer);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = slice;\nfunction slice(arrayLike, start) {\n    start = start | 0;\n    var newLen = Math.max(arrayLike.length - start, 0);\n    var newArr = Array(newLen);\n    for (var idx = 0; idx < newLen; idx++) {\n        newArr[idx] = arrayLike[start + idx];\n    }\n    return newArr;\n}\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isAsync = undefined;\n\nvar _asyncify = require('../asyncify');\n\nvar _asyncify2 = _interopRequireDefault(_asyncify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar supportsSymbol = typeof Symbol === 'function';\n\nfunction isAsync(fn) {\n    return supportsSymbol && fn[Symbol.toStringTag] === 'AsyncFunction';\n}\n\nfunction wrapAsync(asyncFn) {\n    return isAsync(asyncFn) ? (0, _asyncify2.default)(asyncFn) : asyncFn;\n}\n\nexports.default = wrapAsync;\nexports.isAsync = isAsync;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (worker, concurrency) {\n  var _worker = (0, _wrapAsync2.default)(worker);\n  return (0, _queue2.default)(function (items, cb) {\n    _worker(items[0], cb);\n  }, concurrency, 1);\n};\n\nvar _queue = require('./internal/queue');\n\nvar _queue2 = _interopRequireDefault(_queue);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default'];\n\n/**\n * A queue of tasks for the worker function to complete.\n * @typedef {Object} QueueObject\n * @memberOf module:ControlFlow\n * @property {Function} length - a function returning the number of items\n * waiting to be processed. Invoke with `queue.length()`.\n * @property {boolean} started - a boolean indicating whether or not any\n * items have been pushed and processed by the queue.\n * @property {Function} running - a function returning the number of items\n * currently being processed. Invoke with `queue.running()`.\n * @property {Function} workersList - a function returning the array of items\n * currently being processed. Invoke with `queue.workersList()`.\n * @property {Function} idle - a function returning false if there are items\n * waiting or being processed, or true if not. Invoke with `queue.idle()`.\n * @property {number} concurrency - an integer for determining how many `worker`\n * functions should be run in parallel. This property can be changed after a\n * `queue` is created to alter the concurrency on-the-fly.\n * @property {Function} push - add a new task to the `queue`. Calls `callback`\n * once the `worker` has finished processing the task. Instead of a single task,\n * a `tasks` array can be submitted. The respective callback is used for every\n * task in the list. Invoke with `queue.push(task, [callback])`,\n * @property {Function} unshift - add a new task to the front of the `queue`.\n * Invoke with `queue.unshift(task, [callback])`.\n * @property {Function} remove - remove items from the queue that match a test\n * function.  The test function will be passed an object with a `data` property,\n * and a `priority` property, if this is a\n * [priorityQueue]{@link module:ControlFlow.priorityQueue} object.\n * Invoked with `queue.remove(testFn)`, where `testFn` is of the form\n * `function ({data, priority}) {}` and returns a Boolean.\n * @property {Function} saturated - a callback that is called when the number of\n * running workers hits the `concurrency` limit, and further tasks will be\n * queued.\n * @property {Function} unsaturated - a callback that is called when the number\n * of running workers is less than the `concurrency` & `buffer` limits, and\n * further tasks will not be queued.\n * @property {number} buffer - A minimum threshold buffer in order to say that\n * the `queue` is `unsaturated`.\n * @property {Function} empty - a callback that is called when the last item\n * from the `queue` is given to a `worker`.\n * @property {Function} drain - a callback that is called when the last item\n * from the `queue` has returned from the `worker`.\n * @property {Function} error - a callback that is called when a task errors.\n * Has the signature `function(error, task)`.\n * @property {boolean} paused - a boolean for determining whether the queue is\n * in a paused state.\n * @property {Function} pause - a function that pauses the processing of tasks\n * until `resume()` is called. Invoke with `queue.pause()`.\n * @property {Function} resume - a function that resumes the processing of\n * queued tasks when the queue is paused. Invoke with `queue.resume()`.\n * @property {Function} kill - a function that removes the `drain` callback and\n * empties remaining tasks from the queue forcing it to go idle. No more tasks\n * should be pushed to the queue after calling this function. Invoke with `queue.kill()`.\n */\n\n/**\n * Creates a `queue` object with the specified `concurrency`. Tasks added to the\n * `queue` are processed in parallel (up to the `concurrency` limit). If all\n * `worker`s are in progress, the task is queued until one becomes available.\n * Once a `worker` completes a `task`, that `task`'s callback is called.\n *\n * @name queue\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {AsyncFunction} worker - An async function for processing a queued task.\n * If you want to handle errors from an individual task, pass a callback to\n * `q.push()`. Invoked with (task, callback).\n * @param {number} [concurrency=1] - An `integer` for determining how many\n * `worker` functions should be run in parallel.  If omitted, the concurrency\n * defaults to `1`.  If the concurrency is `0`, an error is thrown.\n * @returns {module:ControlFlow.QueueObject} A queue object to manage the tasks. Callbacks can\n * attached as certain properties to listen for specific events during the\n * lifecycle of the queue.\n * @example\n *\n * // create a queue object with concurrency 2\n * var q = async.queue(function(task, callback) {\n *     console.log('hello ' + task.name);\n *     callback();\n * }, 2);\n *\n * // assign a callback\n * q.drain = function() {\n *     console.log('all items have been processed');\n * };\n *\n * // add some items to the queue\n * q.push({name: 'foo'}, function(err) {\n *     console.log('finished processing foo');\n * });\n * q.push({name: 'bar'}, function (err) {\n *     console.log('finished processing bar');\n * });\n *\n * // add some items to the queue (batch-wise)\n * q.push([{name: 'baz'},{name: 'bay'},{name: 'bax'}], function(err) {\n *     console.log('finished processing item');\n * });\n *\n * // add some items to the front of the queue\n * q.unshift({name: 'bar'}, function (err) {\n *     console.log('finished processing bar');\n * });\n */","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var global =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  (typeof global !== 'undefined' && global)\n\nvar support = {\n  searchParams: 'URLSearchParams' in global,\n  iterable: 'Symbol' in global && 'iterator' in Symbol,\n  blob:\n    'FileReader' in global &&\n    'Blob' in global &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in global,\n  arrayBuffer: 'ArrayBuffer' in global\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name: \"' + name + '\"')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        var isConsumed = consumed(this)\n        if (isConsumed) {\n          return isConsumed\n        }\n        if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n          return Promise.resolve(\n            this._bodyArrayBuffer.buffer.slice(\n              this._bodyArrayBuffer.byteOffset,\n              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n            )\n          )\n        } else {\n          return Promise.resolve(this._bodyArrayBuffer)\n        }\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n  // https://github.com/github/fetch/issues/748\n  // https://github.com/zloirock/core-js/issues/751\n  preProcessedHeaders\n    .split('\\r')\n    .map(function(header) {\n      return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n    })\n    .forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = options.statusText === undefined ? '' : '' + options.statusText\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = global.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      setTimeout(function() {\n        resolve(new Response(body, options))\n      }, 0)\n    }\n\n    xhr.onerror = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.ontimeout = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.onabort = function() {\n      setTimeout(function() {\n        reject(new DOMException('Aborted', 'AbortError'))\n      }, 0)\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && global.location.href ? global.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n\n    xhr.open(request.method, fixUrl(request.url), true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr) {\n      if (support.blob) {\n        xhr.responseType = 'blob'\n      } else if (\n        support.arrayBuffer &&\n        request.headers.get('Content-Type') &&\n        request.headers.get('Content-Type').indexOf('application/octet-stream') !== -1\n      ) {\n        xhr.responseType = 'arraybuffer'\n      }\n    }\n\n    if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers)) {\n      Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n        xhr.setRequestHeader(name, normalizeValue(init.headers[name]))\n      })\n    } else {\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n    }\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!global.fetch) {\n  global.fetch = fetch\n  global.Headers = Headers\n  global.Request = Request\n  global.Response = Response\n}\n","import queue from 'async/queue';\r\n\r\nconst _exec = cordova.exec;\r\nconst q = queue(({ methodName, args }, cb) => {\r\n    // Delay the resolution and rejection callbacks because\r\n    // the Spotify SDKs do not like being reinvoked from inside\r\n    // of an event handler function.\r\n    _exec(\r\n        val => setTimeout(() => cb(null, val)),\r\n        err => setTimeout(() => cb(err)),\r\n        'SpotifyOAuth',\r\n        methodName,\r\n        args || []\r\n    )\r\n});\r\n\r\n/**\r\n * Cordova's exec with Promise and error handling support.\r\n * \r\n * @param methodName the native method to execute\r\n * @param args method arguments\r\n * @hidden\r\n */\r\nexport default function<T>(methodName: string, args: any[] = []) {\r\n    if (!methodName) {\r\n        throw new Error(\"Missing method or class name argument (1st).\");\r\n    }\r\n\r\n    return new Promise((res, rej) => q.push(\r\n        { methodName, args }, \r\n        (err, val) => err ? rej(err) : res(val)\r\n    ))\r\n        .catch(({ type, msg }) => {\r\n            const e = new Error(msg);\r\n            e.name = type;\r\n            return Promise.reject(e);\r\n        });\r\n}\r\n","import 'whatwg-fetch';\r\nimport exec from './lib/exec-promise';\r\n\r\n/**\r\n * The local storage key where the auth data is cached.\r\n *\r\n * The data is stored as stringified JSON object.\r\n */\r\nexport const LOCAL_STORAGE_KEY = \"SpotifyOAuthData\";\r\n\r\n/**\r\n * The authorization data.\r\n */\r\nexport interface AuthorizationData {\r\n    /** A valid access token. */\r\n    accessToken: string;\r\n\r\n    /** The encrypted refresh token. */\r\n    encryptedRefreshToken: string;\r\n\r\n    /** The date (from UTC, in milliseconds) when the given access token expires. */\r\n    expiresAt: number;\r\n}\r\n\r\n/**\r\n * OAuth configuration data.\r\n */\r\nexport interface Config {\r\n    /** The client ID as per the Spotify dev console. */\r\n    clientId: string;\r\n\r\n    /** The redirect URI as entered in the Spotify dev console. */\r\n    redirectUrl: string;\r\n\r\n    /**\r\n     * Safety margin time (in milliseconds) for the token refresh.\r\n     *\r\n     * The plugin applies a safety margin to the token lifetime in order\r\n     * to give the token user enough time to perform all operations needed.\r\n     *\r\n     * Otherwise the plugin might hand out a token that is already expired\r\n     * before it could ever be used.\r\n     *\r\n     * The safety margin defaults to 30s.\r\n     */\r\n    refreshSafetyMargin?: number;\r\n\r\n    /** Requested OAuth scopes. */\r\n    scopes: string[];\r\n\r\n    /** The token exchange URL. */\r\n    tokenExchangeUrl: string;\r\n\r\n    /** The token refresh URL. */\r\n    tokenRefreshUrl: string;\r\n}\r\n\r\n/**\r\n * Obtains valid authorization data.\r\n *\r\n * This method performs the necessary steps in order to obtain a valid\r\n * access token. It performs the OAuth dance prompting the user to log in,\r\n * exchanges the obtained authorization code for an access and a refresh\r\n * token, caches those, and returns both to the developer.\r\n *\r\n * When it is invoked again, it will first check whether the cached access\r\n * token is still valid (including a configurable safety margin) and the\r\n * scopes equal, and return the token directly if that is the case. Otherwise,\r\n * the method will transparently refresh the token (or obtain a new one if\r\n * the scopes changed) and return that.\r\n *\r\n * Bottom line - always call this if you need a valid access token in your code.\r\n *\r\n * @param cfg OAuth configuration\r\n */\r\nexport function authorize(cfg: Config): Promise<AuthorizationData> {\r\n    if (!cfg.clientId) {\r\n        throw new Error(\"missing clientId\");\r\n    }\r\n    if (!cfg.redirectUrl) {\r\n        throw new Error(\"missing redirectUri\");\r\n    }\r\n    if (!Array.isArray(cfg.scopes)) {\r\n        throw new Error(\"missing scopes\");\r\n    }\r\n    if (!cfg.tokenExchangeUrl) {\r\n        throw new Error(\"missing tokenExchangeUrl\");\r\n    }\r\n    if (!cfg.tokenRefreshUrl) {\r\n        throw new Error(\"missing tokenRefreshUrl\");\r\n    }\r\n    if ((cfg.refreshSafetyMargin || 0) < 0) {\r\n        throw new Error(\"safety margin < 0\");\r\n    }\r\n\r\n    const lsData = localStorage.getItem(LOCAL_STORAGE_KEY);\r\n\r\n    if (!lsData) {\r\n        return saveAndHandleErrors(oauth(cfg), cfg.scopes, \"auth_failed\");\r\n    }\r\n\r\n    const authData: (AuthorizationData & { scopes: string[] }) = JSON.parse(lsData);\r\n    const margin = (cfg.refreshSafetyMargin != undefined)\r\n        ? cfg.refreshSafetyMargin\r\n        : 30000;\r\n    const expiry = Date.now() + margin;\r\n\r\n    return arraysEqual(authData.scopes, cfg.scopes)\r\n        ? (authData.expiresAt > expiry)\r\n            ? Promise.resolve(authData)\r\n            : saveAndHandleErrors(refresh(cfg, authData), cfg.scopes, \"refresh_failed\")\r\n        : saveAndHandleErrors(oauth(cfg), cfg.scopes, \"auth_failed\");\r\n}\r\n\r\n/**\r\n * Removes all cached data so that `authorize` performs the full\r\n * oauth dance again.\r\n *\r\n * This is akin to a \"logout\".\r\n */\r\nexport function forget() {\r\n    return localStorage.removeItem(LOCAL_STORAGE_KEY);\r\n}\r\n\r\n/**\r\n * Performs the OAuth dance.\r\n *\r\n * @param cfg OAuth2 config\r\n * @hidden\r\n */\r\nfunction oauth(cfg: Config): Promise<AuthorizationData> {\r\n    return exec(\"getCode\", [\r\n        cfg.clientId,\r\n        cfg.redirectUrl,\r\n        cfg.tokenExchangeUrl,\r\n        cfg.tokenRefreshUrl,\r\n        cfg.scopes\r\n    ])\r\n        .then(({ code }) => fetch(cfg.tokenExchangeUrl, {\r\n            method: 'post',\r\n            headers: {\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            body: 'code=' + code\r\n        }))\r\n        .then(handleHttpErrors)\r\n        .then(resp => resp.json())\r\n        .then(({ access_token, expires_in, refresh_token }) => ({\r\n            accessToken: access_token,\r\n            encryptedRefreshToken: refresh_token,\r\n            expiresAt: expires_in * 1000 + Date.now()\r\n        }));\r\n}\r\n\r\n/**\r\n * Refreshes the given access token.\r\n *\r\n * @param cfg OAuth2 config\r\n * @param data The auth data to refresh\r\n * @hidden\r\n */\r\nfunction refresh(cfg: Config, data: AuthorizationData): Promise<AuthorizationData> {\r\n    return fetch(cfg.tokenRefreshUrl, {\r\n        method: 'post',\r\n        headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        body: 'refresh_token=' + encodeURIComponent(data.encryptedRefreshToken)\r\n    })\r\n        .then(handleHttpErrors)\r\n        .then(resp => resp.json())\r\n        .then(({ access_token, expires_in }) => ({\r\n            accessToken: access_token,\r\n            encryptedRefreshToken: data.encryptedRefreshToken,\r\n            expiresAt: expires_in * 1000 + Date.now()\r\n        }))\r\n}\r\n\r\n/**\r\n * Performs a deep equality check on two string arrays.\r\n *\r\n * @param a the first array\r\n * @param b the second array\r\n * @hidden\r\n */\r\nfunction arraysEqual(a: string[], b: string[]): boolean {\r\n    if (a == b) {\r\n        return true;\r\n    }\r\n    if (!a || !b || a.length !== b.length) {\r\n        return false;\r\n    }\r\n\r\n    for (let i = 0; i < a.length; i++) {\r\n        if (a[i] != b[i]) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\n/**\r\n * Handles HTTP erros gracefully and returns the response\r\n * if everything is okay.\r\n *\r\n * @param resp the HTTP response to handle\r\n * @hidden\r\n */\r\nfunction handleHttpErrors(resp: Response): Promise<Response> {\r\n    return resp.ok ?\r\n        Promise.resolve(resp) :\r\n        Promise.reject(Promise.reject(new Error(\"got invalid HTTP status code \" + resp.status)));\r\n}\r\n\r\n/**\r\n * Saves the given Authorization data to the local storage and\r\n * appropriately handles errors.\r\n *\r\n * @param pr the Promise with the AuthorizationData\r\n * @param scopes the auth scopes the developer has requested\r\n * @param errorName the error name to assign in case of failure\r\n * @hidden\r\n */\r\nfunction saveAndHandleErrors(\r\n    pr: Promise<AuthorizationData>,\r\n    scopes: string[],\r\n    errorName: string\r\n): Promise<AuthorizationData> {\r\n    return pr\r\n        .then(data => {\r\n            localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify({ ...data, scopes }));\r\n            return data;\r\n        })\r\n        .catch(err => {\r\n            const e = new Error(err.message);\r\n            e.name = errorName;\r\n            return Promise.reject(e);\r\n        });\r\n}"],"names":["Object","defineProperty","exports","value","func","_initialParams2","default","args","callback","result","apply","this","e","_isObject2","then","invokeCallback","err","message","Error","_interopRequireDefault","_setImmediate2","obj","__esModule","error","rethrow","module","DLL","head","tail","length","setInitial","dll","node","prototype","removeLink","prev","next","empty","shift","insertAfter","newNode","insertBefore","unshift","push","pop","toArray","arr","Array","curr","idx","data","remove","testFn","fn","_slice2","arguments","call","callFn","worker","concurrency","payload","_worker","_wrapAsync2","numRunning","workersList","processingScheduled","_insert","insertAtFront","q","started","_isArray2","idle","drain","i","l","item","_noop2","_tasks","process","_next","tasks","task","index","_baseIndexOf2","splice","buffer","unsaturated","isProcessing","_DoublyLinkedList2","saturated","paused","kill","Math","min","cb","_onlyOnce2","running","pause","resume","hasNextTick","hasSetImmediate","undefined","fallback","wrap","_defer","setImmediate","nextTick","setTimeout","defer","arrayLike","start","newLen","max","newArr","isAsync","_asyncify2","supportsSymbol","Symbol","toStringTag","asyncFn","_queue2","items","array","predicate","fromIndex","fromRight","baseFindIndex","baseIsNaN","strictIndexOf","isArray","type","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","d","a","definition","key","o","enumerable","get","prop","hasOwnProperty","r","global","globalThis","self","support","Blob","viewClasses","isArrayBufferView","ArrayBuffer","isView","indexOf","toString","normalizeName","name","String","test","TypeError","toLowerCase","normalizeValue","iteratorFor","iterator","done","Headers","headers","map","forEach","append","header","getOwnPropertyNames","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","bufferClone","buf","slice","view","Uint8Array","byteLength","set","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","rejected","arrayBuffer","byteOffset","text","readAsText","chars","fromCharCode","join","readArrayBufferAsText","formData","decode","json","JSON","parse","oldValue","has","thisArg","keys","values","entries","methods","Request","input","options","method","upcased","url","credentials","mode","signal","toUpperCase","referrer","cache","reParamSearch","replace","Date","getTime","form","trim","split","bytes","decodeURIComponent","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","DOMException","stack","create","constructor","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","substr","line","parts","responseURL","responseText","ontimeout","onabort","open","href","fixUrl","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","fetch","_exec","cordova","exec","methodName","val","LOCAL_STORAGE_KEY","authorize","cfg","clientId","redirectUrl","scopes","tokenExchangeUrl","tokenRefreshUrl","refreshSafetyMargin","lsData","localStorage","getItem","saveAndHandleErrors","oauth","authData","margin","expiry","now","b","arraysEqual","expiresAt","encodeURIComponent","encryptedRefreshToken","handleHttpErrors","resp","access_token","expires_in","accessToken","refresh","forget","removeItem","res","rej","catch","msg","code","pr","errorName","setItem","stringify"],"sourceRoot":""}